/*
 * jQuery Template Plugin
 * Copyright (c) 2015 Kapil Kashyap
 *
 * Depends:
 *   - jQuery 1.6+
 *
 * Dual licensed under the MIT and GPL licenses:
 *   - http://www.opensource.org/licenses/mit-license.php
 *   - http://www.gnu.org/licenses/gpl.html
 */
!function(e){e.extend(e.fn,{jsTemplate:function(l){if(!l.template||!l.jsonObjects){var t="";return l.template||(t+="template is required.\n"),l.jsonObjects||(t+="jsonObjects is required."),window.console?void(console.error?console.error(t):console.log(t)):void alert(t)}l.highlight=e.extend({apply:!1,markup:"<u>,</u>",value:""},l.highlight||{}),l.highlight&&l.highlight.value&&l.highlight.value.join&&(l.highlight.value=l.highlight.value.join("|"));var i=[],h=null,n=null,a=1===l.highlight.value.length,p=l.highlight.value.replace(/[\-\[\]{}()*+?.\\\^$#\s]/g,"\\$&"),r=new RegExp(p,"ig"),g=l.highlight.markup.split(","),o=function(e){return e=""+e,n="",h=e.match(r),h&&h.length>0&&(h=a?h[0].toLowerCase():h[0],n=g[0]+h+g[1],e=e.replace(r,n)),e};return e(l.jsonObjects).each(function(t,h){var n=e("<div></div>").html(l.template).html();if("object"==e.type(h))e.each(h,function(e,t){var i="{@:"+e+"}",h="{!@:"+e+"}",a=new RegExp(i,"g"),p=!1;-1!=l.template.indexOf(i)&&(n=n.replace(a,l.highlight.apply?o(t):t),p=!0),p||-1==l.template.indexOf(h)||(n=n.replace(h,t))});else if(null!=l.prop){var a="{@:"+l.prop+"}",p="{!@:"+l.prop+"}",r=new RegExp(a,"g"),g=!1;-1!=l.template.indexOf(a)&&(n=n.replace(r,l.highlight.apply?o(h):h),g=!0),g||-1==l.template.indexOf(p)||(n=n.replace(p,h))}i.push(n)}),i}})}(jQuery);